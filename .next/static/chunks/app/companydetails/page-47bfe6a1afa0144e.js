(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82],{2158:function(e,t,s){Promise.resolve().then(s.bind(s,5641))},5641:function(e,t,s){"use strict";s.r(t);var a=s(7437),l=s(4601),d=s(6085),c=s(4937),r=s(6691),i=s.n(r),n=s(2265),x=s(4851),m=s(3047),p=s(2173);s(4025),t.default=()=>{let[e,t]=(0,n.useState)("timeline"),[s,r]=(0,n.useState)(!0),[o,h]=(0,n.useState)(!1),[u,j]=(0,n.useState)(null),[f,b]=(0,n.useState)(null),w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["January","February","March","April","May","June","July","August","September","October","November","December"],g=e=>{t(e)};return(0,n.useEffect)(()=>{p.Z.get("http://localhost:8080/userDetals").then(e=>{let t=new Map;e.data.data.forEach(e=>{let{sepratecode:s,timeSpent:a}=e;(!t.has(s)||a>t.get(s).timeSpent)&&t.set(s,{...e})});let s=Array.from(t.values()),a=s.reduce((e,t,s)=>{let{usercode:a}=t;return e[a]||(e[a]=[]),e[a].push({index:s,data:t}),e},{});for(let e in a)a.hasOwnProperty(e)&&a[e].sort((e,t)=>{let s=new Date(e.data.date).getTime(),a=new Date(t.data.date).getTime();return s-a});let l=Object.values(a).map(e=>({...e}));console.log("groupedData",l),j(l)}).catch(e=>{b(e.message)})},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-5 w-full",children:[(0,a.jsxs)("div",{className:"flex w-full justify-between items-center my-1",children:[(0,a.jsx)(i(),{src:l.eA,alt:"backarrow",className:"w-[80px]  h-[20px]"}),(0,a.jsxs)("div",{className:" flex max-w-[180px] w-full justify-evenly items-center",children:[(0,a.jsx)("div",{className:" border rounded-lg  p-1",children:(0,a.jsx)(i(),{src:l.gE,alt:"searchicon",className:"w-8 h-6"})}),(0,a.jsx)(i(),{src:l.kG,alt:"linkedin",className:"w-10 h-8"}),(0,a.jsx)(i(),{src:l.a1,alt:"safari",className:"w-10 h-8"})]})]}),(0,a.jsxs)("div",{className:"flex w-[100%] justify-between",children:[(0,a.jsxs)("div",{className:"w-[30%] rounded-md bg-[#f6f6f6db] p-4  ",children:[(0,a.jsxs)("div",{className:"flex justify-start gap-7 my-7 items-center",children:[(0,a.jsx)(i(),{src:l.DK,alt:"snitcherlog",className:"w-16"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl",children:"Snitcher"}),(0,a.jsxs)("div",{className:"flex ",children:[(0,a.jsx)(i(),{src:l.pA,alt:"jobicon",className:"w-[20px] h-[20px]"}),(0,a.jsx)("p",{children:"IT Company"})]})]})]}),(0,a.jsx)("div",{className:"max-w-[300px] w-full border p-2",children:(0,a.jsxs)("div",{className:"flex justify-start gap-3 items-center",children:[(0,a.jsx)(i(),{src:l.dA,alt:"eyeicon",className:"ml-2 w-[24px] h-[24px]"}),(0,a.jsx)("p",{children:"Visited 2 Times"})]})})]}),(0,a.jsxs)("div",{className:"w-[65%]",children:[(0,a.jsxs)("div",{className:"flex gap-2 px-4",children:[(0,a.jsx)("button",{onClick:()=>g("timeline"),className:"text-black ".concat("timeline"===e?"bg-primary , text-white":"bg-white , text-black"," px-1 text-sm rounded-xl border"),children:"Timeline"}),(0,a.jsx)("button",{onClick:()=>g("contact"),className:"text-black ".concat("contact"===e?"bg-primary , text-white":"bg-white , text-black"," px-1 text-sm rounded-xl border"),children:"Contact"})]}),(0,a.jsx)("div",{className:"w-[100%] bg-[#f6f6f6db] rounded-md p-[22px] mt-[22px]",children:u&&u.length>0&&u.map((e,t)=>{var s,l,d,c,r,i,n;return(0,a.jsxs)("div",{className:" w-[100%]  mb-[20px] bg-white   rounded-md  p-5 px-3",children:[console.log("ele",e),(0,a.jsxs)("div",{className:"flex gap-2 w-[100%] justify-between items-center px-2 py-2 bg-white ",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("p",{className:"text-4xl",children:new Date(e[0].data.date).getDate()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:w[new Date(e[0].data.date).getDay()]}),(0,a.jsxs)("p",{children:[N[new Date(e[0].data.date).getMonth()],", ",new Date(e[0].data.date).getFullYear()]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(e[0].data.date))})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(null===(l=e[0].data)||void 0===l?void 0:null===(s=l.ip)||void 0===s?void 0:s.countryCode)&&(0,a.jsx)("img",{src:"https://flagsapi.com/".concat(e[0].data.ip.countryCode,"/flat/24.png"),alt:"uslogo",width:24,height:24,className:"w-[24px] h-[20px]"}),(0,a.jsx)("p",{children:null===(c=e[0].data)||void 0===c?void 0:null===(d=c.ip)||void 0===d?void 0:d.country})]}),(0,a.jsx)("div",{className:" px-2 py-1 border border-solid",children:"Jack Caspino"})]}),(0,a.jsxs)("div",{className:"w-[80%] bg-white mx-auto  grid grid-cols-4 text-[#979797] place-content-between place-items-center gap-3",children:[(0,a.jsxs)("div",{className:"bg-[#f7f7f7] text-[#979797]  w-[100%] rounded-md p-2",children:[(0,a.jsx)("p",{className:"text-[10px] text-center",children:"Client"}),(0,a.jsxs)("p",{className:"text-[10px] pt-10 text-center",children:[null===(r=e[0].data)||void 0===r?void 0:r.browser,", ",null===(i=e[0].data)||void 0===i?void 0:i.agent]})]}),(0,a.jsxs)("div",{className:"bg-[#f7f7f7] text-[#979797]  w-[100%] rounded-md p-2",children:[(0,a.jsx)("p",{className:"text-[10px] text-center",children:"Referrer"}),(0,a.jsx)("p",{className:"text-[10px] pt-10 text-center",children:(null===(n=e[0].data)||void 0===n?void 0:n.referrer)?"reffered":"direct"})]}),(0,a.jsxs)("div",{className:"bg-[#f7f7f7] text-[#979797]  w-[100%] rounded-md p-2",children:[(0,a.jsx)("p",{className:"text-[10px] text-center",children:"Pages Viewed"}),(0,a.jsx)("p",{className:"text-[10px] pt-10 text-center",children:Object.keys(e).length})]}),(0,a.jsxs)("div",{className:"bg-[#f7f7f7] text-[#979797]  w-[100%] rounded-md p-2",children:[(0,a.jsx)("p",{className:"text-[10px] text-center",children:"Time Spent"}),(0,a.jsx)("p",{className:"text-[10px] pt-10 text-center",children:parseInt(Object.values(e).map(e=>({...e})).reduce((e,t)=>e+t.data.timeSpent,0)/6e4)+"mins"})]})]}),Object.values(e).map(e=>({...e})).map((e,t)=>(0,a.jsxs)("div",{className:"w-[80%] bg-white border border-solid border-gray-300 rounded-md my-2 mx-auto   text-black  ",children:[(0,a.jsx)("p",{className:" px-3 py-2 text-xl",children:"/"==e.data.pageName?e.data.domain:e.data.pageName.replace("/","")}),(0,a.jsxs)("p",{className:"text-[#979797] px-3",children:["For ",e.data.timeSpent/1e3," seconds"]})]}))]})})})]})]})]})]}),(0,a.jsx)(x.Z,{open:s,close:()=>r(!1),width:"50%",borderRadius:"12px",component:(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:" container max-w-[650px] w-full ",children:[(0,a.jsx)("div",{className:"flex justify-end w-full ",children:(0,a.jsx)(m.Z.Close,{})}),(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Jack Caspino"}),(0,a.jsxs)("div",{className:"flex justify-start gap-4 items-start mt-2 border-b-2 py-6",children:[(0,a.jsx)("button",{onClick:()=>g("timeline"),className:"bg-primary text-black px-2 py-[2px] text-sm border rounded-2xl",children:"Contact Details"}),(0,a.jsx)("button",{onClick:()=>g("timeline"),className:"bg-primary text-black px-2 py-[2px] text-sm border rounded-2xl",children:"Contact Details"}),(0,a.jsx)("button",{onClick:()=>g("timeline"),className:"bg-primary text-black px-2 py-[2px] text-sm border rounded-2xl",children:"Contact Details"})]}),(0,a.jsx)("div",{className:"max-w-[400px] py-5 px-10 w-full",children:(0,a.jsxs)("div",{className:"flex gap-20",children:[(0,a.jsx)("p",{children:"Email"}),(0,a.jsx)("p",{children:"jcaspino@gmail.com"})]})})]})}),{show:o})})]})}}},function(e){e.O(0,[542,413,554,173,985,971,472,744],function(){return e(e.s=2158)}),_N_E=e.O()}]);